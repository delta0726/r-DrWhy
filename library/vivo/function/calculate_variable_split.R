# Title     : calculate_variable_split
# Objective : TODO
# Created by: Owner
# Created on: 2020/06/21
# URL       : https://modeloriented.github.io/vivo/reference/local_variable_importance.html



# ＜ポイント＞
# - この関数は、選択した変数ごとに候補分割を計算します。
# - 数値変数の場合、分割はパーセンタイルとして計算されます（一般に、長さgrid_pointsの均一の変位値）。
# - 他のすべての変数では、分割は一意の値として計算されます。



# ＜構文＞
# calculate_variable_split(
#  data,
#  variables = colnames(data),
#  grid_points = 101
#  )



# profiles
# data.frame generated by ingredients::ceteris_paribus()


# grid_points
# - パスの数



library(tidyverse)
library(vivo)



# データロード
data(apartments)


# データ確認
apartments %>% as_tibble()
apartments %>% glimpse()



# データ分割
split <-
  apartments %>%
    calculate_variable_split(variables = colnames(apartments),
                             grid_points = 101)


# 確認
split %>% print()
split %>% summary()